{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-5a65f64481b42ab5.js","src/shopping.js","node_modules/@parcel/runtime-js/lib/runtime-3bb2d5a0af9e5243.js","node_modules/@parcel/runtime-js/lib/runtime-96304c975157fb7b.js","node_modules/@parcel/runtime-js/lib/runtime-e3ec33de90ebdd4b.js","node_modules/@parcel/runtime-js/lib/runtime-6b856dc398cfa2bc.js","src/js/shopng-js/DOM-refs/refs-DOM.js","src/js/shopng-js/takeLocalItems/filter-local.js","src/js/shopng-js/takeLocalItems/takeLocalitems.js","src/js/shopng-js/hidden-img/hidden-img.js","src/js/rendershoppinglist.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"3bDNW\\\":\\\"shopping.66e43a23.js\\\",\\\"lgsSw\\\":\\\"image1.626c9508.png\\\",\\\"26klC\\\":\\\"image2.652b354e.png\\\",\\\"ZMyw0\\\":\\\"image3.1d091ebd.png\\\",\\\"hAMe3\\\":\\\"iconRemove.e6c9974b.png\\\",\\\"1XaNB\\\":\\\"index.e0bf4bfb.css\\\",\\\"k49P2\\\":\\\"shopping.4e7ce5e7.js\\\"}\"));","import './js/support';\nimport './js/mobile-menu.js';\n\nimport './css/shopping-page/support-shoping-page.css';\nimport { createMarkup } from './js/rendershoppinglist';\nimport { marckModal } from './js/marckupcategories.js';\n\nimport { refs } from './js/shopng-js/DOM-refs/refs-DOM.js';\nimport {\n  takeLocalItems,\n  localStorageCheck,\n} from './js/shopng-js/takeLocalItems/takeLocalitems.js';\nimport { filteredLocalItems } from './js/shopng-js/takeLocalItems/filter-local.js';\n\n// (() => {\n//   const supportBlock = document.querySelector('.support-block');\n\n//   // Close the mobile menu on wider screens if the device orientation changes\n\n//   window.matchMedia('(min-width: 1440px)').addEventListener('change', e => {\n//     if (!e.matches) return;\n//     supportBlock.style.display = 'block';\n//   });\n//   window.matchMedia('(max-width: 1440px)').addEventListener('change', e => {\n//     if (!e.matches) return;\n//     supportBlock.style.display = 'none';\n//   });\n// })();\n\nrefs.cardRemoveBtn.addEventListener('click', onRemoveCard);\n\nfunction onRemoveCard(e) {\n  const idBtnRemove = refs.cardRemoveBtn.getAttribute('data-id');\n  const elementToRemove = document.getElementById(`${idBtnRemove}`);\n  elementToRemove.remove();\n  filteredLocalItems(idBtnRemove);\n  localStorageCheck();\n  onToggleModal();\n}\n\nfunction onToggleModal() {\n  refs.overlay.classList.toggle('js-modal-close');\n}\n\nrefs.closeButton.addEventListener('click', onClickBtnlogin);\nrefs.overlay.addEventListener('click', closeClickBackdrop);\n\nfunction onClickBtnlogin() {\n  onToggleModal();\n}\n\nfunction closeClickBackdrop(e) {\n  if (e.currentTarget === e.target) {\n    onToggleModal();\n  }\n}\n\nfunction onCloseModalEsc(e) {\n  if (e.key === 'Escape') {\n    onToggleModal();\n    document.removeEventListener('keydown', onCloseModalEsc);\n  }\n}\n\nfunction onToggleModal() {\n  refs.modal.classList.toggle('active');\n  refs.overlay.classList.toggle('active');\n}\n\nlocalStorageCheck();\n\nrefs.articlesContainer.addEventListener('click', onClickShoppingItem);\n\nasync function onClickShoppingItem(e) {\n  const btnCloseId = e.target.getAttribute('btn-close-id');\n  const liId = e.target.closest('li').dataset.id;\n\n  filteredLocalItems(btnCloseId);\n\n  if (e.target.closest('li') && !e.target.closest('button')) {\n    marckModal(liId).then(resp => {\n      refs.modalContent.innerHTML = resp;\n      refs.cardRemoveBtn.setAttribute('data-id', liId);\n      refs.modal.classList.toggle('active');\n      refs.overlay.classList.toggle('active');\n      document.addEventListener('keydown', onCloseModalEsc);\n      refs.cardRemoveBtn.textContent = 'remove from the shopping list';\n    });\n  }\n\n  if (e.target.closest('button')) {\n    e.target.parentNode.remove();\n    localStorageCheck();\n  }\n\n  if (parseLocalStorage === []) {\n    refs.descriptionBlock.classList.toggle('visually-hidden');\n  }\n}\n\n// !MODALSHOPPING\n\nfunction onClickCardShopping() {\n  marckModal(bookId);\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lgsSw\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"26klC\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"ZMyw0\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"hAMe3\")).toString();","export const refs = {\n   modalContent: document.querySelector('.modal-content'),\n overlay: document.querySelector('#overlay-modal'),\n closeButton: document.querySelector('.js-modal-close'),\n modal: document.querySelector('.modal'),\n  supportBlock: document.querySelector('.support-block'),\n  articlesContainer: document.querySelector('.shopping-list'),\n  descriptionBlock: document.querySelector('.shopping-description-block'),\n  deleteBtn: document.querySelector('.delete-button'),\n  shoppingItem: document.querySelector('.shopping-item'),\n  cardRemoveBtn: document.querySelector('.add-book-button')\n};\n","import { takeLocalItems } from '../takeLocalItems/takeLocalitems';\nexport const filteredLocalItems = value => {\n  const localItem = takeLocalItems();\n  const myArr = localItem.filter(item => item._id !== value);\n  localStorage.setItem('bookCard', JSON.stringify(myArr));\n};\n","import { showImg } from '../hidden-img/hidden-img'; // i.a.\nimport { refs } from '../DOM-refs/refs-DOM.js'; // i.a.\nimport { createMarkup } from '../takeLocalItems/filter-local';\nimport { createMarkup } from '../../rendershoppinglist';\n\nexport const takeLocalItems = () => {\n  const getLocalStorage = localStorage.getItem('bookCard');\n  const parseLocalStorage = JSON.parse(getLocalStorage);\n  return parseLocalStorage;\n};\nexport function localStorageCheck() {\n  const localItem = takeLocalItems();\n  showImg(localItem);\n  createTemplate(localItem);\n}\nconst createTemplate = value => {\n  refs.articlesContainer.innerHTML = createMarkup(value);\n};\n","import { refs } from '../DOM-refs/refs-DOM';\nexport function showImg(arr) {\n  if (arr.length > 0) {\n    refs.descriptionBlock.classList.add('visually-hidden');\n  } else {\n    refs.descriptionBlock.classList.remove('visually-hidden');\n  }\n}\n","// const refs = {\n//   articlesContainer: document.querySelector('.shopping-list'),\n//   descriptionBlock: document.querySelector('.shopping-description-block'),\n//   deleteBtn: document.querySelector('.delete-button'),\n// };\n\n\n\n\nimport image1 from '../images/modal-images/image1.png';\nimport image2 from '../images/modal-images/image2.png';\nimport image3 from '../images/modal-images/image3.png';\nimport removeIcon from '../images/modal-images/iconRemove.png';\n\n\nexport function createMarkup(books) {\n    return books.map(book => {\n        const { _id, book_image, title, list_name, description, author } = book;\n\n        return `\n            <li id=\"${_id}\" data-id=\"${_id}\" class=\"shopping-item\">\n                <div class=\"shopping-card-thumb\">\n                    <img src=\"${book_image}\" alt=\"\" class=\"book-img\">\n                </div>\n                <div class=\"shopping-card-content\">\n                    <h2 class=\"book-title\">${title}</h2>\n                    <p class=\"book-category\">${list_name}</p>\n                    <p class=\"book-description cut-text\">${description}</p>\n                    <p class=\"book-author\">${author}</p>\n                    <ul class=\"buy-links-list list\">\n                        <li class=\"buy-links-item\">\n                            <a target=\"_blank\" href=\"https://goto.applebooks.apple/9781250144058?at=10lIEQ\" class=\"buy-link\">\n                                <img src=\"${image1}\" alt=\"\">\n                            </a>\n                        </li>\n                        <li class=\"buy-links-item\">\n                            <a target=\"_blank\" href=\"https://goto.applebooks.apple/9781250144058?at=10lIEQ\" class=\"buy-link\">\n                                <img src=\"${image2}\" alt=\"\">\n                            </a>\n                        </li>\n                        <li class=\"buy-links-item\">\n                            <a target=\"_blank\" href=\"https://goto.applebooks.apple/9781250144058?at=10lIEQ\" class=\"buy-link\">\n                                <img src=\"${image3}\" alt=\"\">\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n                <button btn-close-id=\"${_id}\" class=\"delete-button\" type=\"button\">\n                    <img btn-close-id=\"${_id}\" class=\"remove-card-img\" src=\"${removeIcon}\" alt=\"\">\n                </button>\n            </li>\n        `;\n    }).join('');\n}"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$483579c8caa4a86f$exports","URL","resolve","import","meta","url","toString","$ddf116d3f9e4d416$exports","$2270b6e641736bdd$exports","$b3a6d28c6d619d82$exports","$838bc0644c43cab8$export$21666b427502ea6d","modalContent","document","querySelector","overlay","closeButton","modal","supportBlock","articlesContainer","descriptionBlock","deleteBtn","shoppingItem","cardRemoveBtn","$68115617006521e4$export$1cbc60349035b160","value","myArr","$ab287e5c1243e2e7$export$58f1d7be115665a4","filter","item","_id","localStorage","setItem","stringify","getLocalStorage","getItem","$ab287e5c1243e2e7$export$49494f666c0c4702","localItem","classList","add","remove","$ab287e5c1243e2e7$var$createTemplate","innerHTML","map","book","book_image","title","list_name","description","author","$parcel$interopDefault","join","$11fc2791d4815931$var$onToggleModal","toggle","$11fc2791d4815931$var$onCloseModalEsc","e","key","removeEventListener","addEventListener","idBtnRemove","getAttribute","getElementById","currentTarget","target","async","btnCloseId","liId","closest","dataset","$a3AA9","marckModal","then","resp","setAttribute","textContent","parentNode","parseLocalStorage"],"version":3,"file":"shopping.66e43a23.js.map"}