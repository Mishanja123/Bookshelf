{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-5a65f64481b42ab5.js","src/shopping.js","src/js/shopng-js/DOM-refs/refs-DOM.js","src/js/shopng-js/takeLocalItems/filter-local.js","node_modules/@parcel/runtime-js/lib/runtime-3bb2d5a0af9e5243.js","node_modules/@parcel/runtime-js/lib/runtime-96304c975157fb7b.js","node_modules/@parcel/runtime-js/lib/runtime-e3ec33de90ebdd4b.js","node_modules/@parcel/runtime-js/lib/runtime-6b856dc398cfa2bc.js","src/js/shopng-js/takeLocalItems/takeLocalitems.js","src/js/shopng-js/hidden-img/hidden-img.js","src/js/rendershoppinglist.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"3bDNW\\\":\\\"shopping.4209a215.js\\\",\\\"lgsSw\\\":\\\"image1.626c9508.png\\\",\\\"26klC\\\":\\\"image2.652b354e.png\\\",\\\"ZMyw0\\\":\\\"image3.1d091ebd.png\\\",\\\"hAMe3\\\":\\\"iconRemove.e6c9974b.png\\\",\\\"1XaNB\\\":\\\"index.5830ba24.css\\\",\\\"k49P2\\\":\\\"shopping.101b5edf.js\\\"}\"));","import './js/support';\nimport './js/mobile-menu.js';\nimport './js/skroll.js';\n// import './js/firebase/login-modal.js';\n\nconst newModal = document.querySelector('.new-modal')\n\nconst textAfterButton = document.querySelector('.under-remove-btn-text')\nimport './css/shopping-page/support-shoping-page.css';\nimport { marckModal } from './js/marckupcategories.js';\n\nimport { refs } from './js/shopng-js/DOM-refs/refs-DOM.js';\nimport {\n  takeLocalItems,\n  localStorageCheck,\n} from './js/shopng-js/takeLocalItems/takeLocalitems.js';\nimport { filteredLocalItems } from './js/shopng-js/takeLocalItems/filter-local.js';\n\n// (() => {\n//   const supportBlock = document.querySelector('.support-block');\n\n//   // Close the mobile menu on wider screens if the device orientation changes\n\n//   window.matchMedia('(min-width: 1440px)').addEventListener('change', e => {\n//     if (!e.matches) return;\n//     supportBlock.style.display = 'block';\n//   });\n//   window.matchMedia('(max-width: 1440px)').addEventListener('change', e => {\n//     if (!e.matches) return;\n//     supportBlock.style.display = 'none';\n//   });\n// })();\n\n// refs.cardRemoveBtn.addEventListener('click', onRemoveCard);\n\nfunction onRemoveCard(e) {\n  const idBtnRemove = refs.cardRemoveBtn.getAttribute('data-id');\n  const elementToRemove = document.getElementById(`${idBtnRemove}`);\n  elementToRemove.remove();\n  filteredLocalItems(idBtnRemove);\n  localStorageCheck();\n  onToggleModal();\n}\n\nrefs.closeButton.addEventListener('click', onClickBtnlogin);\nrefs.overlay.addEventListener('click', closeClickBackdrop);\n\nfunction onClickBtnlogin() {\n  onToggleModal();\n}\n\nfunction closeClickBackdrop(e) {\n  if (e.currentTarget === e.target) {\n    onToggleModal();\n  }\n}\n\nfunction onCloseModalEsc(e) {\n  if (e.key === 'Escape') {\n    onToggleModal();\n    document.removeEventListener('keydown', onCloseModalEsc);\n  }\n}\n\nfunction onToggleModal() {\n  refs.modal.classList.toggle('active');\n  refs.overlay.classList.toggle('active');\n  refs.overlay.classList.toggle('js-modal-close');\n}\n\nlocalStorageCheck();\n\nrefs.articlesContainer.addEventListener('click', onClickShoppingItem);\n\nasync function onClickShoppingItem(e) {\n  const btnCloseId = e.target.getAttribute('btn-close-id');\n  const liId = e.target.closest('li').dataset.id;\n\n  filteredLocalItems(btnCloseId);\n\n  if (e.target.closest('li') && !e.target.closest('button')) {\n    marckModal(liId).then(resp => {\n      newModal.innerHTML = resp;\n      const buttonAdd = document.querySelector('.js-btn-add')\n      refs.modal.classList.toggle('active');\n      refs.overlay.classList.toggle('active');\n      buttonAdd.textContent = 'remove from the shopping list';\n      buttonAdd.addEventListener('click', onbtnRemove)\n      document.addEventListener('keydown', onCloseModalEsc);\n      // buttonAdd.textContent = 'remove from the shopping list';\n    });\n  }\n\n  if (e.target.closest('button')) {\n    e.target.parentNode.remove();\n    localStorageCheck();\n    if (JSON.parse(localStorage.getItem('bookCard')).length === 0) {\n    refs.descriptionBlock.classList.remove('visually-hidden')\n  }\n  }\n}\n\nfunction onbtnRemove(e) {\n  refs.modal.classList.toggle('active');\n  refs.overlay.classList.toggle('active');\n  refs.overlay.classList.toggle('js-modal-close');\n  const btnCloseId = e.target.getAttribute('data-id');\n  const liId = [...document.querySelectorAll(`.shopping-item`)]\n  liId.map(el => {\n    if (el.dataset.id === btnCloseId) {\n      el.remove()\n    }\n  })\n  filteredLocalItems(btnCloseId);\n  localStorageCheck();\n\n  if (JSON.parse(localStorage.getItem('bookCard')).length === 0) {\n    refs.descriptionBlock.classList.remove('visually-hidden')\n  }\n}","export const refs = {\n  modalContent: document.querySelector('.modal-content'),\n  overlay: document.querySelector('#overlay-modal'),\n  closeButton: document.querySelector('.js-modal-close'),\n  modal: document.querySelector('.modal'),\n  supportBlock: document.querySelector('.support-block'),\n  articlesContainer: document.querySelector('.shopping-list'),\n  descriptionBlock: document.querySelector('.shopping-description-block'),\n  deleteBtn: document.querySelector('.delete-button'),\n  shoppingItem: document.querySelector('.shopping-item'),\n  cardRemoveBtn: document.querySelector('.add-book-button'),\n};\n","import { takeLocalItems } from '../takeLocalItems/takeLocalitems';\nexport const filteredLocalItems = value => {\n  const localItem = takeLocalItems();\n  const myArr = localItem.filter(item => item._id !== value);\n  localStorage.setItem('bookCard', JSON.stringify(myArr));\n};\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lgsSw\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"26klC\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"ZMyw0\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"hAMe3\")).toString();","import { showImg } from '../hidden-img/hidden-img'; // i.a.\nimport { refs } from '../DOM-refs/refs-DOM.js'; // i.a.\nimport { createMarkup } from '../takeLocalItems/filter-local';\nimport { createMarkup } from '../../rendershoppinglist';\n\n\nexport const takeLocalItems = () => {\n  const getLocalStorage = localStorage.getItem('bookCard');\n  const parseLocalStorage = JSON.parse(getLocalStorage);\n  return parseLocalStorage;\n};\nexport function localStorageCheck() {\n  const localItem = takeLocalItems();\n  showImg(localItem);\n  createTemplate(localItem);\n}\nconst createTemplate = value => {\n  refs.articlesContainer.innerHTML = createMarkup(value);\n};\n","import { refs } from '../DOM-refs/refs-DOM';\nexport function showImg(arr) {\n  if (arr.length > 0) {\n    refs.descriptionBlock.classList.add('visually-hidden');\n   } //else {\n  //   refs.descriptionBlock.classList.remove('visually-hidden');\n  // }\n}\n","// const refs = {\n//   articlesContainer: document.querySelector('.shopping-list'),\n//   descriptionBlock: document.querySelector('.shopping-description-block'),\n//   deleteBtn: document.querySelector('.delete-button'),\n// };\n\n\n\n\nimport image1 from '../images/modal-images/image1.png';\nimport image2 from '../images/modal-images/image2.png';\nimport image3 from '../images/modal-images/image3.png';\nimport removeIcon from '../images/modal-images/iconRemove.png';\n\n\nexport function createMarkup(books) {\n    return books.map(book => {\n        const { _id, book_image, title, list_name, description, author } = book;\n\n        return `\n            <li id=\"${_id}\" data-id=\"${_id}\" class=\"shopping-item\">\n                <div class=\"shopping-card-thumb\">\n                    <img src=\"${book_image}\" alt=\"\" class=\"book-img\">\n                </div>\n                <div class=\"shopping-card-content\">\n                    <h2 class=\"book-title\">${title}</h2>\n                    <p class=\"book-category\">${list_name}</p>\n                    <p class=\"book-description cut-text\">${description}</p>\n                    <p class=\"book-author\">${author}</p>\n                    <ul class=\"buy-links-list list\">\n                        <li class=\"buy-links-item\">\n                            <a target=\"_blank\" href=\"https://goto.applebooks.apple/9781250144058?at=10lIEQ\" class=\"buy-link\">\n                                <img src=\"${image1}\" alt=\"\">\n                            </a>\n                        </li>\n                        <li class=\"buy-links-item\">\n                            <a target=\"_blank\" href=\"https://goto.applebooks.apple/9781250144058?at=10lIEQ\" class=\"buy-link\">\n                                <img src=\"${image2}\" alt=\"\">\n                            </a>\n                        </li>\n                        <li class=\"buy-links-item\">\n                            <a target=\"_blank\" href=\"https://goto.applebooks.apple/9781250144058?at=10lIEQ\" class=\"buy-link\">\n                                <img src=\"${image3}\" alt=\"\">\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n                <button btn-close-id=\"${_id}\" class=\"delete-button\" type=\"button\">\n                    <img btn-close-id=\"${_id}\" class=\"remove-card-img\" src=\"${removeIcon}\" alt=\"\">\n                </button>\n            </li>\n        `;\n    }).join('');\n}"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$838bc0644c43cab8$export$21666b427502ea6d","modalContent","document","querySelector","overlay","closeButton","modal","supportBlock","articlesContainer","descriptionBlock","deleteBtn","shoppingItem","cardRemoveBtn","$68115617006521e4$export$1cbc60349035b160","value","myArr","$ab287e5c1243e2e7$export$58f1d7be115665a4","filter","item","_id","localStorage","setItem","stringify","$483579c8caa4a86f$exports","URL","resolve","import","meta","url","toString","$ddf116d3f9e4d416$exports","$2270b6e641736bdd$exports","$b3a6d28c6d619d82$exports","getLocalStorage","getItem","$ab287e5c1243e2e7$export$49494f666c0c4702","localItem","classList","add","$ab287e5c1243e2e7$var$createTemplate","innerHTML","map","book","book_image","title","list_name","description","author","$parcel$interopDefault","join","$11fc2791d4815931$var$newModal","$11fc2791d4815931$var$onCloseModalEsc","e","key","$11fc2791d4815931$var$onToggleModal","removeEventListener","toggle","$11fc2791d4815931$var$onbtnRemove","btnCloseId","target","getAttribute","querySelectorAll","el","dataset","remove","addEventListener","currentTarget","async","liId","closest","$a3AA9","marckModal","then","resp","buttonAdd","textContent","parentNode"],"version":3,"file":"shopping.4209a215.js.map"}