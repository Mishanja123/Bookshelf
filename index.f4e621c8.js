var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var i={id:e,exports:{}};return t[e]=i,o.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequired7c6=o);var i=o("a3AA9");i=o("a3AA9");const r=document.querySelector(".js_side_categories_list"),c=document.querySelector(".wrap"),a=document.querySelector(".title_categories");function s(){c.classList.remove("hidden"),a.classList.add("hidden")}function d(){c.classList.add("hidden"),a.classList.remove("hidden")}const l=document.querySelector(".js_books_view");async function u(){l.innerHTML="",s();const e=await(0,i.marckAllCategories)();l.innerHTML=e,d()}!async function(){const e=await(0,i.marckUpSideCategories)();r.insertAdjacentHTML("beforeend",e)}(),u(),r.addEventListener("click",(async function(e){e.preventDefault();let t=e.target.textContent;if("A"!==e.target.tagName)return;"All categories"===t?u():async function(e){l.innerHTML="",s();const t=await(0,i.marckCategorieItem)(e);l.innerHTML=t,d()}(t);[...e.currentTarget.children].map((e=>e.classList.remove("selected-category"))),e.target.parentNode.classList.add("selected-category")})),l.addEventListener("click",(async function(e){if(!e.target.classList.contains("load-more-books"))return;let t=e.target.closest(".category-books").firstChild.textContent;await async function(e){const t=[...document.querySelectorAll(".list-books")].filter((t=>t.dataset.category===e)),n=await(0,i.marckCategorieItemMore)(e);t[0].innerHTML=n}(t),e.target.classList.add("no-btn"),[...e.target.previousSibling.children].map((e=>e.classList.remove("hidden")))}));var m=o("1kawI");function f(e){const t=JSON.parse(localStorage.getItem("bookCard")||"[]");t.push(e),localStorage.setItem("bookCard",JSON.stringify(t))}const y=document.querySelector(".add-book-button"),v=document.querySelector("#overlay-modal"),g=document.querySelector(".js-modal-close"),L=document.querySelector(".modal"),k=document.querySelector(".modal-content");let b="";function p(){L.classList.remove("active"),v.classList.remove("active"),document.body.style.overflow="",g.removeEventListener("click",p),v.removeEventListener("click",p),document.removeEventListener("keydown",w)}function w(e){"Escape"===e.key&&p()}l.addEventListener("click",(async function e(t){try{b=t.target.closest(".outlineli").dataset.id}catch(e){return}if(!b)return;async function n(){L.classList.add("active"),v.classList.add("active"),document.body.style.overflow="hidden",g.addEventListener("click",p),v.addEventListener("click",p),document.addEventListener("keydown",w),g.removeEventListener("click",e),v.removeEventListener("click",e)}await async function(e){const t=await(0,i.marckModal)(e);k.innerHTML=t}(b),n()})),y.addEventListener("click",(function(){const e=document.querySelector(".book").getAttribute("data-book-id");(0,m.fetchBook)(e).then((({book_image:e,title:t,author:n,description:o,_id:i,list_name:r,buy_links:c})=>{f({book_image:e,title:t,author:n,description:o,_id:i,list_name:r,buy_links:c})}))})),o("dTazW"),o("8FnLx");
//# sourceMappingURL=index.f4e621c8.js.map
