function e(e,t,n,o){Object.defineProperty(e,t,{get:n,set:o,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},l={},r=n.parcelRequired7c6;null==r&&((r=function(e){if(e in o)return o[e].exports;if(e in l){var t=l[e];delete l[e];var n={id:e,exports:{}};return o[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){l[e]=t},n.parcelRequired7c6=r),r.register("kyEFX",(function(t,n){var o,l;e(t.exports,"register",(function(){return o}),(function(e){return o=e})),e(t.exports,"resolve",(function(){return l}),(function(e){return l=e}));var r={};o=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)r[t[n]]=e[t[n]]},l=function(e){var t=r[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),r("kyEFX").register(JSON.parse('{"3bDNW":"shopping.c172e654.js","lgsSw":"image1.626c9508.png","26klC":"image2.652b354e.png","ZMyw0":"image3.1d091ebd.png","hAMe3":"iconRemove.e6c9974b.png","1XaNB":"index.e0e3d110.css","k49P2":"shopping.4e7ce5e7.js"}')),r("dTazW"),r("8FnLx");var i;i=new URL(r("kyEFX").resolve("lgsSw"),import.meta.url).toString();var s;s=new URL(r("kyEFX").resolve("26klC"),import.meta.url).toString();var a;a=new URL(r("kyEFX").resolve("ZMyw0"),import.meta.url).toString();var c;c=new URL(r("kyEFX").resolve("hAMe3"),import.meta.url).toString();var d=r("a3AA9");const u={modalContent:document.querySelector(".modal-content"),overlay:document.querySelector("#overlay-modal"),closeButton:document.querySelector(".js-modal-close"),modal:document.querySelector(".modal"),supportBlock:document.querySelector(".support-block"),articlesContainer:document.querySelector(".shopping-list"),descriptionBlock:document.querySelector(".shopping-description-block"),deleteBtn:document.querySelector(".delete-button"),shoppingItem:document.querySelector(".shopping-item"),cardRemoveBtn:document.querySelector(".add-book-button")};const p=e=>{const t=g().filter((t=>t._id!==e));localStorage.setItem("bookCard",JSON.stringify(t))},g=()=>{const e=localStorage.getItem("bookCard");return JSON.parse(e)};function m(){const e=g();e.length>0?u.descriptionBlock.classList.add("visually-hidden"):u.descriptionBlock.classList.remove("visually-hidden"),b(e)}const b=e=>{u.articlesContainer.innerHTML=e.map((e=>{const{_id:n,book_image:o,title:l,list_name:r,description:d,author:u}=e;return`\n            <li id="${n}" data-id="${n}" class="shopping-item">\n                <div class="shopping-card-thumb">\n                    <img src="${o}" alt="" class="book-img">\n                </div>\n                <div class="shopping-card-content">\n                    <h2 class="book-title">${l}</h2>\n                    <p class="book-category">${r}</p>\n                    <p class="book-description cut-text">${d}</p>\n                    <p class="book-author">${u}</p>\n                    <ul class="buy-links-list list">\n                        <li class="buy-links-item">\n                            <a target="_blank" href="https://goto.applebooks.apple/9781250144058?at=10lIEQ" class="buy-link">\n                                <img src="${t(i)}" alt="">\n                            </a>\n                        </li>\n                        <li class="buy-links-item">\n                            <a target="_blank" href="https://goto.applebooks.apple/9781250144058?at=10lIEQ" class="buy-link">\n                                <img src="${t(s)}" alt="">\n                            </a>\n                        </li>\n                        <li class="buy-links-item">\n                            <a target="_blank" href="https://goto.applebooks.apple/9781250144058?at=10lIEQ" class="buy-link">\n                                <img src="${t(a)}" alt="">\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n                <button btn-close-id="${n}" class="delete-button" type="button">\n                    <img btn-close-id="${n}" class="remove-card-img" src="${t(c)}" alt="">\n                </button>\n            </li>\n        `})).join("")};function v(e){"Escape"===e.key&&(y(),document.removeEventListener("keydown",v))}function y(){u.modal.classList.toggle("active"),u.overlay.classList.toggle("active"),u.overlay.classList.toggle("js-modal-close")}u.cardRemoveBtn.addEventListener("click",(function(e){const t=u.cardRemoveBtn.getAttribute("data-id");document.getElementById(`${t}`).remove(),p(t),m(),y()})),u.closeButton.addEventListener("click",(function(){y()})),u.overlay.addEventListener("click",(function(e){e.currentTarget===e.target&&y()})),m(),u.articlesContainer.addEventListener("click",(async function(e){const t=e.target.getAttribute("btn-close-id"),n=e.target.closest("li").dataset.id;p(t),e.target.closest("li")&&!e.target.closest("button")&&(0,d.marckModal)(n).then((e=>{u.modalContent.innerHTML=e,u.cardRemoveBtn.setAttribute("data-id",n),u.modal.classList.toggle("active"),u.overlay.classList.toggle("active"),document.addEventListener("keydown",v),u.cardRemoveBtn.textContent="remove from the shopping list"}));e.target.closest("button")&&(e.target.parentNode.remove(),m());0===g().length&&u.descriptionBlock.classList.toggle("visually-hidden")}));
//# sourceMappingURL=shopping.c172e654.js.map
