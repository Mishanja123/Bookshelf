{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-9484a9aa86547787.js","src/shopping.js","src/js/shopng-js/DOM-refs/refs-DOM.js","src/js/shopng-js/takeLocalItems/filter-local.js","node_modules/@parcel/runtime-js/lib/runtime-a183f301109ffe0f.js","node_modules/@parcel/runtime-js/lib/runtime-65d8d66dd8176075.js","node_modules/@parcel/runtime-js/lib/runtime-cc9b83d06450604c.js","node_modules/@parcel/runtime-js/lib/runtime-15755c059836abdb.js","src/js/shopng-js/takeLocalItems/takeLocalitems.js","src/js/shopng-js/hidden-img/hidden-img.js","src/js/rendershoppinglist.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"7ttGv\\\":\\\"shopping.b28587dd.js\\\",\\\"3BgtL\\\":\\\"image1.626c9508.png\\\",\\\"HSL4s\\\":\\\"image2.652b354e.png\\\",\\\"7HQ06\\\":\\\"image3.1d091ebd.png\\\",\\\"kWSUj\\\":\\\"iconRemove.e6c9974b.png\\\",\\\"1XaNB\\\":\\\"index.f18f0d35.css\\\",\\\"abVi8\\\":\\\"shopping.bc3a516b.js\\\"}\"));","import './js/support';\nimport './js/mobile-menu.js';\n\nimport './css/shopping-page/support-shoping-page.css';\nimport { marckModal } from './js/marckupcategories.js';\n\nimport { refs } from './js/shopng-js/DOM-refs/refs-DOM.js';\nimport {\n  takeLocalItems,\n  localStorageCheck,\n} from './js/shopng-js/takeLocalItems/takeLocalitems.js';\nimport { filteredLocalItems } from './js/shopng-js/takeLocalItems/filter-local.js';\n\n// (() => {\n//   const supportBlock = document.querySelector('.support-block');\n\n//   // Close the mobile menu on wider screens if the device orientation changes\n\n//   window.matchMedia('(min-width: 1440px)').addEventListener('change', e => {\n//     if (!e.matches) return;\n//     supportBlock.style.display = 'block';\n//   });\n//   window.matchMedia('(max-width: 1440px)').addEventListener('change', e => {\n//     if (!e.matches) return;\n//     supportBlock.style.display = 'none';\n//   });\n// })();\n\nrefs.cardRemoveBtn.addEventListener('click', onRemoveCard);\n\nfunction onRemoveCard(e) {\n  const idBtnRemove = refs.cardRemoveBtn.getAttribute('data-id');\n  const elementToRemove = document.getElementById(`${idBtnRemove}`);\n  elementToRemove.remove();\n  filteredLocalItems(idBtnRemove);\n  localStorageCheck();\n  onToggleModal();\n}\n\nrefs.closeButton.addEventListener('click', onClickBtnlogin);\nrefs.overlay.addEventListener('click', closeClickBackdrop);\n\nfunction onClickBtnlogin() {\n  onToggleModal();\n}\n\nfunction closeClickBackdrop(e) {\n  if (e.currentTarget === e.target) {\n    onToggleModal();\n  }\n}\n\nfunction onCloseModalEsc(e) {\n  if (e.key === 'Escape') {\n    onToggleModal();\n    document.removeEventListener('keydown', onCloseModalEsc);\n  }\n}\n\nfunction onToggleModal() {\n  refs.modal.classList.toggle('active');\n  refs.overlay.classList.toggle('active');\n  refs.overlay.classList.toggle('js-modal-close');\n}\n\nlocalStorageCheck();\n\nrefs.articlesContainer.addEventListener('click', onClickShoppingItem);\n\nasync function onClickShoppingItem(e) {\n  const btnCloseId = e.target.getAttribute('btn-close-id');\n  const liId = e.target.closest('li').dataset.id;\n\n  filteredLocalItems(btnCloseId);\n\n  if (e.target.closest('li') && !e.target.closest('button')) {\n    marckModal(liId).then(resp => {\n      refs.modalContent.innerHTML = resp;\n      refs.cardRemoveBtn.setAttribute('data-id', liId);\n      refs.modal.classList.toggle('active');\n      refs.overlay.classList.toggle('active');\n      document.addEventListener('keydown', onCloseModalEsc);\n      refs.cardRemoveBtn.textContent = 'remove from the shopping list';\n    });\n  }\n\n  if (e.target.closest('button')) {\n    e.target.parentNode.remove();\n    localStorageCheck();\n  }\n}\n","export const refs = {\n  modalContent: document.querySelector('.modal-content'),\n  overlay: document.querySelector('#overlay-modal'),\n  closeButton: document.querySelector('.js-modal-close'),\n  modal: document.querySelector('.modal'),\n  supportBlock: document.querySelector('.support-block'),\n  articlesContainer: document.querySelector('.shopping-list'),\n  descriptionBlock: document.querySelector('.shopping-description-block'),\n  deleteBtn: document.querySelector('.delete-button'),\n  shoppingItem: document.querySelector('.shopping-item'),\n  cardRemoveBtn: document.querySelector('.add-book-button'),\n};\n","import { takeLocalItems } from '../takeLocalItems/takeLocalitems';\nexport const filteredLocalItems = value => {\n  const localItem = takeLocalItems();\n  const myArr = localItem.filter(item => item._id !== value);\n  localStorage.setItem('bookCard', JSON.stringify(myArr));\n};\n","module.exports = require('./helpers/bundle-url').getBundleURL('7ttGv') + require('./helpers/bundle-manifest').resolve(\"3BgtL\");","module.exports = require('./helpers/bundle-url').getBundleURL('7ttGv') + require('./helpers/bundle-manifest').resolve(\"HSL4s\");","module.exports = require('./helpers/bundle-url').getBundleURL('7ttGv') + require('./helpers/bundle-manifest').resolve(\"7HQ06\");","module.exports = require('./helpers/bundle-url').getBundleURL('7ttGv') + require('./helpers/bundle-manifest').resolve(\"kWSUj\");","import { showImg } from '../hidden-img/hidden-img'; // i.a.\nimport { refs } from '../DOM-refs/refs-DOM.js'; // i.a.\nimport { createMarkup } from '../takeLocalItems/filter-local';\nimport { createMarkup } from '../../rendershoppinglist';\n\nexport const takeLocalItems = () => {\n  const getLocalStorage = localStorage.getItem('bookCard');\n  const parseLocalStorage = JSON.parse(getLocalStorage);\n  return parseLocalStorage;\n};\nexport function localStorageCheck() {\n  const localItem = takeLocalItems();\n  showImg(localItem);\n  createTemplate(localItem);\n}\nconst createTemplate = value => {\n  refs.articlesContainer.innerHTML = createMarkup(value);\n};\n","import { refs } from '../DOM-refs/refs-DOM';\nexport function showImg(arr) {\n  if (arr.length > 0) {\n    refs.descriptionBlock.classList.add('visually-hidden');\n  } else {\n    refs.descriptionBlock.classList.remove('visually-hidden');\n  }\n}\n","// const refs = {\n//   articlesContainer: document.querySelector('.shopping-list'),\n//   descriptionBlock: document.querySelector('.shopping-description-block'),\n//   deleteBtn: document.querySelector('.delete-button'),\n// };\n\n\n\n\nimport image1 from '../images/modal-images/image1.png';\nimport image2 from '../images/modal-images/image2.png';\nimport image3 from '../images/modal-images/image3.png';\nimport removeIcon from '../images/modal-images/iconRemove.png';\n\n\nexport function createMarkup(books) {\n    return books.map(book => {\n        const { _id, book_image, title, list_name, description, author } = book;\n\n        return `\n            <li id=\"${_id}\" data-id=\"${_id}\" class=\"shopping-item\">\n                <div class=\"shopping-card-thumb\">\n                    <img src=\"${book_image}\" alt=\"\" class=\"book-img\">\n                </div>\n                <div class=\"shopping-card-content\">\n                    <h2 class=\"book-title\">${title}</h2>\n                    <p class=\"book-category\">${list_name}</p>\n                    <p class=\"book-description cut-text\">${description}</p>\n                    <p class=\"book-author\">${author}</p>\n                    <ul class=\"buy-links-list list\">\n                        <li class=\"buy-links-item\">\n                            <a target=\"_blank\" href=\"https://goto.applebooks.apple/9781250144058?at=10lIEQ\" class=\"buy-link\">\n                                <img src=\"${image1}\" alt=\"\">\n                            </a>\n                        </li>\n                        <li class=\"buy-links-item\">\n                            <a target=\"_blank\" href=\"https://goto.applebooks.apple/9781250144058?at=10lIEQ\" class=\"buy-link\">\n                                <img src=\"${image2}\" alt=\"\">\n                            </a>\n                        </li>\n                        <li class=\"buy-links-item\">\n                            <a target=\"_blank\" href=\"https://goto.applebooks.apple/9781250144058?at=10lIEQ\" class=\"buy-link\">\n                                <img src=\"${image3}\" alt=\"\">\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n                <button btn-close-id=\"${_id}\" class=\"delete-button\" type=\"button\">\n                    <img btn-close-id=\"${_id}\" class=\"remove-card-img\" src=\"${removeIcon}\" alt=\"\">\n                </button>\n            </li>\n        `;\n    }).join('');\n}"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$bpxeT","$d02ee5550d4b3d14$export$21666b427502ea6d","modalContent","document","querySelector","overlay","closeButton","modal","supportBlock","articlesContainer","descriptionBlock","deleteBtn","shoppingItem","cardRemoveBtn","$3a58022aa2d45f13$export$1cbc60349035b160","myArr","$c7d9cbe14cc89e33$export$58f1d7be115665a4","filter","item","_id","localStorage","setItem","stringify","$1bb863a6c6f1cbb1$exports","getBundleURL","resolve","$c824e5879f371d23$exports","$9411960f1699a13f$exports","$b718015d2b259eaa$exports","getLocalStorage","getItem","$c7d9cbe14cc89e33$export$49494f666c0c4702","localItem","classList","add","remove","$c7d9cbe14cc89e33$var$createTemplate","innerHTML","map","book","book_image","title","list_name","description","author","concat","$parcel$interopDefault","join","$670fb8b9e2c7118b$var$onCloseModalEsc","e","key","$670fb8b9e2c7118b$var$onToggleModal","removeEventListener","toggle","$670fb8b9e2c7118b$var$_onClickShoppingItem","$2TvXO","mark","_callee","btnCloseId","liId","target","getAttribute","closest","dataset","$ccCAN","marckModal","then","resp","setAttribute","addEventListener","textContent","parentNode","apply","this","arguments","idBtnRemove","getElementById","currentTarget"],"version":3,"file":"shopping.b28587dd.js.map"}