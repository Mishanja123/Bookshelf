!function(){function e(e,t,n,o){Object.defineProperty(e,t,{get:n,set:o,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},r={},a=n.parcelRequired7c6;null==a&&((a=function(e){if(e in o)return o[e].exports;if(e in r){var t=r[e];delete r[e];var n={id:e,exports:{}};return o[e]=n,t.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},n.parcelRequired7c6=a),a.register("iE7OH",(function(t,n){var o,r;e(t.exports,"register",(function(){return o}),(function(e){return o=e})),e(t.exports,"resolve",(function(){return r}),(function(e){return r=e}));var a={};o=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)a[t[n]]=e[t[n]]},r=function(e){var t=a[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),a.register("aNJCr",(function(t,n){var o;e(t.exports,"getBundleURL",(function(){return o}),(function(e){return o=e}));var r={};function a(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}o=function(e){var t=r[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return a(e[2])}return"/"}(),r[e]=t),t}})),a("iE7OH").register(JSON.parse('{"7ttGv":"shopping.20b47300.js","3BgtL":"image1.626c9508.png","HSL4s":"image2.652b354e.png","7HQ06":"image3.1d091ebd.png","kWSUj":"iconRemove.e6c9974b.png","1XaNB":"index.5830ba24.css","abVi8":"shopping.ff8c060e.js"}'));var c=a("bpxeT"),l=a("8nrFW"),i=a("2TvXO");a("xpKCW"),a("cs7FV"),a("aah0R");var s=a("ccCAN"),u={modalContent:document.querySelector(".modal-content"),overlay:document.querySelector("#overlay-modal"),closeButton:document.querySelector(".js-modal-close"),modal:document.querySelector(".modal"),supportBlock:document.querySelector(".support-block"),articlesContainer:document.querySelector(".shopping-list"),descriptionBlock:document.querySelector(".shopping-description-block"),deleteBtn:document.querySelector(".delete-button"),shoppingItem:document.querySelector(".shopping-item"),cardRemoveBtn:document.querySelector(".add-book-button")};var d,p=function(e){var t=f().filter((function(t){return t._id!==e}));localStorage.setItem("bookCard",JSON.stringify(t))};d=a("aNJCr").getBundleURL("7ttGv")+a("iE7OH").resolve("3BgtL");var g;g=a("aNJCr").getBundleURL("7ttGv")+a("iE7OH").resolve("HSL4s");var v;v=a("aNJCr").getBundleURL("7ttGv")+a("iE7OH").resolve("7HQ06");var m;m=a("aNJCr").getBundleURL("7ttGv")+a("iE7OH").resolve("kWSUj");var f=function(){var e=localStorage.getItem("bookCard");return JSON.parse(e)};function b(){var e=f();e.length>0&&u.descriptionBlock.classList.add("visually-hidden"),h(e)}var h=function(e){u.articlesContainer.innerHTML=e.map((function(e){var n=e._id,o=e.book_image,r=e.title,a=e.list_name,c=e.description,l=e.author;return'\n            <li id="'.concat(n,'" data-id="').concat(n,'" class="shopping-item">\n                <div class="shopping-card-thumb">\n                    <img src="').concat(o,'" alt="" class="book-img">\n                </div>\n                <div class="shopping-card-content">\n                    <h2 class="book-title">').concat(r,'</h2>\n                    <p class="book-category">').concat(a,'</p>\n                    <p class="book-description cut-text">').concat(c,'</p>\n                    <p class="book-author">').concat(l,'</p>\n                    <ul class="buy-links-list list">\n                        <li class="buy-links-item">\n                            <a target="_blank" href="https://goto.applebooks.apple/9781250144058?at=10lIEQ" class="buy-link">\n                                <img src="').concat(t(d),'" alt="">\n                            </a>\n                        </li>\n                        <li class="buy-links-item">\n                            <a target="_blank" href="https://goto.applebooks.apple/9781250144058?at=10lIEQ" class="buy-link">\n                                <img src="').concat(t(g),'" alt="">\n                            </a>\n                        </li>\n                        <li class="buy-links-item">\n                            <a target="_blank" href="https://goto.applebooks.apple/9781250144058?at=10lIEQ" class="buy-link">\n                                <img src="').concat(t(v),'" alt="">\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n                <button btn-close-id="').concat(n,'" class="delete-button" type="button">\n                    <img btn-close-id="').concat(n,'" class="remove-card-img" src="').concat(t(m),'" alt="">\n                </button>\n            </li>\n        ')})).join("")},y=document.querySelector(".new-modal");document.querySelector(".under-remove-btn-text");function k(e){"Escape"===e.key&&(S(),document.removeEventListener("keydown",k))}function S(){u.modal.classList.toggle("active"),u.overlay.classList.toggle("active"),u.overlay.classList.toggle("js-modal-close")}function L(){return(L=t(c)(t(i).mark((function e(n){var o,r;return t(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=n.target.getAttribute("btn-close-id"),r=n.target.closest("li").dataset.id,p(o),n.target.closest("li")&&!n.target.closest("button")&&(0,s.marckModal)(r).then((function(e){y.innerHTML=e;var t=document.querySelector(".js-btn-add");u.modal.classList.toggle("active"),u.overlay.classList.toggle("active"),t.textContent="remove from the shopping list",t.addEventListener("click",E),document.addEventListener("keydown",k)})),n.target.closest("button")&&(n.target.parentNode.remove(),b(),0===JSON.parse(localStorage.getItem("bookCard")).length&&u.descriptionBlock.classList.remove("visually-hidden"));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){u.modal.classList.toggle("active"),u.overlay.classList.toggle("active"),u.overlay.classList.toggle("js-modal-close");var n=e.target.getAttribute("data-id");t(l)(document.querySelectorAll(".shopping-item")).map((function(e){e.dataset.id===n&&e.remove()})),p(n),b(),0===JSON.parse(localStorage.getItem("bookCard")).length&&u.descriptionBlock.classList.remove("visually-hidden")}u.closeButton.addEventListener("click",(function(){S()})),u.overlay.addEventListener("click",(function(e){e.currentTarget===e.target&&S()})),b(),u.articlesContainer.addEventListener("click",(function(e){return L.apply(this,arguments)}))}();
//# sourceMappingURL=shopping.20b47300.js.map
