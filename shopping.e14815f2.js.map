{"mappings":"gfAAAA,EAAA,S,WCCqBC,SAASC,cAAc,kBACxBD,SAASC,cAAc,+BAC9BD,SAASC,cAAc,kB,IDG5BC,E,WAAAA,EAAeF,SAASC,cAAc,kBAI5CE,OAAOC,WAAW,uBAAuBC,iBAAiB,UAAU,SAAAC,GAC7DA,EAAEC,UACPL,EAAaM,MAAMC,QAAU,Q,IAE/BN,OAAOC,WAAW,uBAAuBC,iBAAiB,UAAU,SAAAC,GAC7DA,EAAEC,UACPL,EAAaM,MAAMC,QAAU,O,IAMjC,IAAMC,EAAO,CACXC,kBAAmBX,SAASC,cAAc,kBAC1CW,iBAAkBZ,SAASC,cAAc,+BACzCY,UAAWb,SAASC,cAAc,mBAKpC,SAASa,IACP,IAAMC,EAAkBC,aAAaC,QAAQ,YACvCC,EAAoBC,KAAKC,MAAML,GAG/BL,EAAKC,kBAAkBU,WAAWC,OAAS,GAAM,GACjDZ,EAAKE,iBAAiBW,UAAUC,OAAO,mBAE7Cd,EAAKC,kBAAkBc,UAAyBP,ECTrCQ,KACG,SAAAC,G,MACI,gBAGOC,OAHSD,EAAKE,IAAI,4HAWJD,OARdD,EAAKG,WAAW,sQASIF,OADND,EAAKI,MAAM,wDAG9BH,OAFyBD,EAAKK,UAAU,qFAIrBJ,OAFnBD,EAAKM,YAAY,mEA6CHL,OA3CKD,EAAKO,OAAO,szDA2CRN,OAATD,EAAKE,IAAI,0G,IAKhCM,KAAK,G,CDnElBrB,IAiBAJ,EAAKC,kBAAkBN,iBAAiB,SAExC,SAA6BC,GACzB,IAAMS,EAAkBC,aAAaC,QAAQ,YACzCC,EAAoBC,KAAKC,MAAML,GAE7BqB,EAAa9B,EAAE+B,OAAOC,aAAa,gBACnCC,EAAQrB,EAAkBsB,QAAO,SAAAC,G,OAAKA,EAAEZ,MAAQO,C,IAEtDpB,aAAa0B,WAAW,YAC1B1B,aAAa2B,QAAQ,WAAYxB,KAAKyB,UAAUL,IAC5CjC,EAAE+B,OAAOQ,QAAQ,WAAmC,QAAtBvC,EAAE+B,OAAOS,WACzCxC,EAAE+B,OAAOU,WAAWvB,SACpBV,KAIMI,IAAsB,IACxBR,EAAKE,iBAAiBW,UAAUyB,OAAO,kB","sources":["src/shopping.js","src/js/rendershoppinglist.js"],"sourcesContent":["import './js/support.js';\nimport './js/mobile-menu.js';\nimport { createMarkup } from './js/rendershoppinglist';\nimport { marckModal } from './js/marckupcategories.js'\n\n(() => {\n  const supportBlock = document.querySelector('.support-block');\n\n  // Close the mobile menu on wider screens if the device orientation changes\n\n  window.matchMedia('(min-width: 1440px)').addEventListener('change', e => {\n    if (!e.matches) return;\n    supportBlock.style.display = 'block';\n  });\n  window.matchMedia('(max-width: 1440px)').addEventListener('change', e => {\n    if (!e.matches) return;\n    supportBlock.style.display = 'none';\n  });\n})();\n\n\n\nconst refs = {\n  articlesContainer: document.querySelector('.shopping-list'),\n  descriptionBlock: document.querySelector('.shopping-description-block'),\n  deleteBtn: document.querySelector('.delete-button'),\n};\n\nlocalStorageChek();\n\nfunction localStorageChek() {\n  const getLocalStorage = localStorage.getItem('bookCard');\n  const parseLocalStorage = JSON.parse(getLocalStorage);\n\n// console.log(refs.articlesContainer.childNodes.length);\n    if (refs.articlesContainer.childNodes.length - 1 === 0) {\n        refs.descriptionBlock.classList.remove('visually-hidden');\n    }\n  refs.articlesContainer.innerHTML = createMarkup(parseLocalStorage);\n}\n\n\n\n\n\nrefs.articlesContainer.addEventListener('click', onClickShoppingItem);\n\nfunction onClickShoppingItem(e) {\n    const getLocalStorage = localStorage.getItem('bookCard');\n  const parseLocalStorage = JSON.parse(getLocalStorage);\n\n    const btnCloseId = e.target.getAttribute('btn-close-id');\n    const myArr = parseLocalStorage.filter(f => f._id !== btnCloseId);\n\n    localStorage.removeItem('bookCard');\n  localStorage.setItem('bookCard', JSON.stringify(myArr));\n  if (e.target.closest(\"button\") && e.target.nodeName !== \"SVG\") {\n    e.target.parentNode.remove();\n    localStorageChek()\n  }\n\n\n      if (parseLocalStorage === []) {\n        refs.descriptionBlock.classList.toggle('visually-hidden');\n    }\n}\n\n\n// !MODALSHOPPING\n\nfunction onClickCardShopping() {\nmarckModal(bookId)\n}","const refs = {\n  articlesContainer: document.querySelector('.shopping-list'),\n  descriptionBlock: document.querySelector('.shopping-description-block'),\n  deleteBtn: document.querySelector('.delete-button'),\n};\n\n// refs.deleteBtn.addEventListener('click', clearArticleContainer)\n\n// function fetchData(books) {\n//     if (books === []) {\n//       refs.descriptionBlock.classList.remove('visually-hidden');\n//     return;\n//   }\n//   refs.descriptionBlock.classList.add('visually-hidden');\n//   appendArticleMarkup(books);\n// }\n\n// function appendArticleMarkup(books) {\n//   refs.articlesContainer.insertAdjacentHTML('beforeend', createMarkup(books));\n// }\n\n// function clearArticleContainer(e) {\n//   e.preventDefault();\n\n//   e.currentTarget.parentNode.innerHTML = '';\n// }\n\nexport function createMarkup(books) {\n        return books\n            .map(\n                book =>\n                    `<li data-id=\"${book._id}\" class=\"shopping-item\">\n            <div class=\"shopping-card-thumb\">\n                <img\n                    src=\"${book.book_image}\"\n                    width=\"\"\n                    height=\"\"\n                    alt=\"\"\n                    class=\"book-img\"\n                />\n            </div>\n            <div class=\"shopping-card-content\">\n                <h2 class=\"book-title\">${book.title}</h2>\n                    <p class=\"book-category\">${book.list_name}</p>\n                <p class=\"book-description cut-text\">\n                    ${book.description}\n                </p>\n                <p class=\"book-author\">${book.author}</p>\n                <ul class=\"buy-links-list list\">\n                    <li class=\"buy-links-item\">\n                         <a target=\"_blank\"\n                            href=\"https://goto.applebooks.apple/9781250144058?at=10lIEQ\"\n                            class=\"buy-link\"\n                        >\n                            <img\n                                src=\"./src/images/modal-images/image3.png\"\n                                width=\"\"\n                                height=\"\"\n                                alt=\"\"\n                            />\n                         </a>\n                    </li>\n                    <li class=\"buy-links-item\">\n                        <a target=\"_blank\"\n                         href=\"https://goto.applebooks.apple/9781250144058?at=10lIEQ\"\n                            class=\"buy-link\"\n                         >\n                            <img\n                            src=\"./src/images/modal-images/image2.png\"\n                            width=\"\"\n                            height=\"\"\n                            alt=\"\"\n                            />\n                        </a>\n                    </li>\n                    <li class=\"buy-links-item\">\n                         <a target=\"_blank\"\n                            href=\"https://goto.applebooks.apple/9781250144058?at=10lIEQ\"\n                            class=\"buy-link\"\n                        >\n                            <img\n                            src=\"./src/images/modal-images/image3.png\"\n                            width=\"\"\n                            height=\"\"\n                            alt=\"\"\n                            />\n                        </a>\n                    </li>\n                </ul>\n            </div>\n            <button btn-close-id=\"${book._id}\" class=\"delete-button\" type=\"button\">\n            </button>\n        </li>                 \n        `\n            )\n            .join('');\n    }\n\n// function buyLink(arr) {\n//   return  arr.map(buy => buy.url)\n// }\n"],"names":["parcelRequire","document","querySelector","supportBlock","window","matchMedia","addEventListener","e","matches","style","display","$670fb8b9e2c7118b$var$refs","articlesContainer","descriptionBlock","deleteBtn","$670fb8b9e2c7118b$var$localStorageChek","getLocalStorage","localStorage","getItem","parseLocalStorage","JSON","parse","childNodes","length","classList","remove","innerHTML","map","book","concat","_id","book_image","title","list_name","description","author","join","btnCloseId","target","getAttribute","myArr","filter","f","removeItem","setItem","stringify","closest","nodeName","parentNode","toggle"],"version":3,"file":"shopping.e14815f2.js.map"}