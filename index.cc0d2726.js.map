{"mappings":"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","sources":["src/main.js","src/js/modals.js","src/js/sidebarmaincontent.js","src/js/firebase/addLocal.js"],"sourcesContent":["// Modals\nimport './js/skroll.js';\nimport './js/modals.js';\nimport './js/firebase/login-modal.js';\n\nimport './js/support.js';\nimport './js/mobile-menu.js';\nimport './js/sidebarmaincontent.js';\n","import {\n  marckModal,\n  marckCategorieItem,\n  marckAllCategories,\n  marckUpSideCategories,\n} from './marckupcategories.js';\nimport { booksView } from './sidebarmaincontent.js';\nimport { fetchBook } from './fetchapis.js';\nimport { addToLocalStorage } from './firebase/addLocal.js'\nconst modalCardBtn = document.querySelector('.add-book-button');\n\nconst overlay = document.querySelector('#overlay-modal');\nconst closeButton = document.querySelector('.js-modal-close');\nconst modal = document.querySelector('.modal');\nconst modalContent = document.querySelector('.modal-content');\nlet bookId = ''\nfunction closeModal() {\n  modal.classList.remove('active');\n  overlay.classList.remove('active');\n  document.body.style.overflow = '';\n\n  closeButton.removeEventListener('click', closeModal);\n  overlay.removeEventListener('click', closeModal);\n  document.removeEventListener('keydown', handleKeyPress);\n}\n\nfunction handleKeyPress(event) {\n  if (event.key === 'Escape') {\n    closeModal();\n  }\n}\n\nasync function createMarckModal(bookId) {\n  const mark = await marckModal(bookId);\n  modalContent.innerHTML = mark;\n}\nbooksView.addEventListener('click', onBook);\n\nasync function onBook(e) {\n  try {\n    bookId = e.target.closest('.outlineli').dataset.id;\n  } catch (error) {\n    return;\n  }\n  if (!bookId) {\n    return;\n  }\n  await createMarckModal(bookId);\n\n// const addButton = document.querySelector('.add-book-button');\n// addButton.addEventListener('click', changeBtnText);\n\n// function changeBtnText() {\n//     if (this.textContent === 'add to shopping list') {\n//       this.textContent = 'remove from the shopping list';\n//     } else {\n//       this.textContent = 'Add to shopping list';\n//     } return\n//   };\n  async function addClass() {\n    modal.classList.add('active');\n    overlay.classList.add('active');\n    document.body.style.overflow = 'hidden';\n\n    closeButton.addEventListener('click', closeModal);\n    overlay.addEventListener('click', closeModal);\n    document.addEventListener('keydown', handleKeyPress);\n    closeButton.removeEventListener('click', onBook);\n    overlay.removeEventListener('click', onBook);\n  }\n  addClass();\n}\n\n\n\nmodalCardBtn.addEventListener('click', onClickBtnAddCard);\n\n  function onClickBtnAddCard() {\n const booksId = document.querySelector('.book');\n    const id = booksId.getAttribute('data-book-id');\n\n    fetchBook(id)\n      .then(({ book_image, title, author, description, _id, list_name, buy_links }) => {\n        const bookCard = {\n          book_image,\n          title,\n          author,\n          description,\n          _id,\n          list_name,\n         buy_links\n        };\n        addToLocalStorage(bookCard)\n        // modalCardBtn.textContent = 'remove from the shopping list'\n      });\n}\n","import {\n  marckUpSideCategories,\n  marckAllCategories,\n  marckCategorieItem,\n  marckModal,\n  marckCategorieItemMore,\n} from './marckupcategories.js';\n\nconst sideCategoriesList = document.querySelector('.js_side_categories_list');\nconst loader = document.querySelector('.wrap');\nconst categoriesTitle = document.querySelector('.title_categories');\n\nfunction addLoader() {\n  loader.classList.remove('hidden');\n  categoriesTitle.classList.add('hidden');\n}\nfunction removeLoader() {\n  loader.classList.add('hidden');\n  categoriesTitle.classList.remove('hidden');\n}\n\nexport const booksView = document.querySelector('.js_books_view');\n\nasync function createMarckUpSideCategories() {\n  const mark = await marckUpSideCategories();\n  sideCategoriesList.insertAdjacentHTML('beforeend', mark);\n}\ncreateMarckUpSideCategories();\n\nasync function createMarckAllCategories() {\n  booksView.innerHTML = '';\n  addLoader();\n  const mark = await marckAllCategories();\n  booksView.innerHTML = mark;\n  removeLoader();\n}\ncreateMarckAllCategories();\n\nasync function createMarckCategorieItem(target) {\n  booksView.innerHTML = '';\n  addLoader();\n  const mark = await marckCategorieItem(target);\n  booksView.innerHTML = mark;\n  removeLoader();\n}\n\nfunction createModal(bookId) {\n  const mark = marckModal(bookId);\n  return mark;\n}\n\nsideCategoriesList.addEventListener('click', onClick);\n\nasync function onClick(e) {\n  e.preventDefault();\n  let target = e.target.textContent;\n\n  if (!(e.target.tagName === 'A')) {\n    return;\n  }\n  if (target === 'All categories') {\n    createMarckAllCategories();\n  } else {\n    createMarckCategorieItem(target);\n  }\n  [...e.currentTarget.children].map(el =>\n    el.classList.remove('selected-category')\n  );\n  e.target.parentNode.classList.add('selected-category');\n}\n\n// Отрисовка на кнопку See More\nbooksView.addEventListener('click', onSeeMore);\nasync function onSeeMore(e) {\n  let targetBtn = e.target.classList.contains('load-more-books');\n  if (!targetBtn) {\n    return;\n  }\n  let fetchtitle = e.target.closest('.category-books').firstChild.textContent;\n  await createMarckCategorieItemMore(fetchtitle);\n  e.target.classList.add('no-btn');\n  [...e.target.previousSibling.children].map(el =>\n    el.classList.remove('hidden')\n  );\n}\n\nasync function createMarckCategorieItemMore(target) {\n  const listBooks = document.querySelectorAll('.list-books');\n  const a = [...listBooks].filter(el => el.dataset.category === target);\n  const mark = await marckCategorieItemMore(target);\n  a[0].innerHTML = mark;\n}\n","export function addToLocalStorage(bookCard) {\n  const all = getBookCardToLocalStorage();\n  all.push(bookCard);\n  localStorage.setItem('bookCard', JSON.stringify(all));\n}\n\nexport function getBookCardToLocalStorage() {\n  return JSON.parse(localStorage.getItem('bookCard') || '[]');\n}"],"names":["parcelRequire","$bpxeT","$3941a62c5600c9b7$var$sideCategoriesList","document","querySelector","$3941a62c5600c9b7$var$loader","$3941a62c5600c9b7$var$categoriesTitle","$3941a62c5600c9b7$var$addLoader","classList","remove","add","$3941a62c5600c9b7$var$removeLoader","$3941a62c5600c9b7$export$e48a6d30edcb68e4","$3941a62c5600c9b7$var$_createMarckUpSideCategories","$parcel$interopDefault","$2TvXO","mark","_callee","$ccCAN","marckUpSideCategories","_ctx","sent","insertAdjacentHTML","apply","this","arguments","$3941a62c5600c9b7$var$createMarckAllCategories","$3941a62c5600c9b7$var$_createMarckAllCategories","innerHTML","marckAllCategories","$3941a62c5600c9b7$var$createMarckCategorieItem","target","$3941a62c5600c9b7$var$_createMarckCategorieItem","marckCategorieItem","$3941a62c5600c9b7$var$_onClick","e","preventDefault","textContent","tagName","$8nrFW","currentTarget","children","map","el","parentNode","$3941a62c5600c9b7$var$_onSeeMore","fetchtitle","contains","closest","firstChild","$3941a62c5600c9b7$var$createMarckCategorieItemMore","previousSibling","$3941a62c5600c9b7$var$_createMarckCategorieItemMore","listBooks","a","querySelectorAll","filter","dataset","category","marckCategorieItemMore","$3941a62c5600c9b7$var$createMarckUpSideCategories","addEventListener","$cac35e8b19abf9fb$export$b4aebac53294aa19","bookCard","all","JSON","parse","localStorage","getItem","push","setItem","stringify","$df97da459fafe592$var$modalCardBtn","$df97da459fafe592$var$overlay","$df97da459fafe592$var$closeButton","$df97da459fafe592$var$modal","$df97da459fafe592$var$modalContent","$df97da459fafe592$var$bookId","$df97da459fafe592$var$closeModal","body","style","overflow","removeEventListener","$df97da459fafe592$var$handleKeyPress","event","key","$df97da459fafe592$var$createMarckModal","bookId1","$df97da459fafe592$var$_createMarckModal","marckModal","$df97da459fafe592$var$onBook","$df97da459fafe592$var$_onBook","_callee1","addClass","_addClass","id","getAttribute","$cBnKf","fetchBook","then","param","book_image","title","author","description","_id","list_name","buy_links"],"version":3,"file":"index.cc0d2726.js.map"}